var Swiper;(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};(()=>{var t="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==e.g&&e.g||{},n="URLSearchParams"in t,s="Symbol"in t&&"iterator"in Symbol,r="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in t,o="ArrayBuffer"in t;if(o)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function h(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function c(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return s&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function u(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function f(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function g(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:r&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o&&r&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return u(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(r)return this.blob().then(g);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e,t,n,s,r,i=u(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,n=f(t=new FileReader),r=(s=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?s[1]:"utf-8",t.readAsText(e,r),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),s=0;s<t.length;s++)n[s]=String.fromCharCode(t[s]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=h(e),t=c(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[h(e)]},p.prototype.get=function(e){return e=h(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(h(e))},p.prototype.set=function(e,t){this.map[h(e)]=c(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},s&&(p.prototype[Symbol.iterator]=p.prototype.entries);var v=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function b(e,n){if(!(this instanceof b))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var s,r,i=(n=n||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,n.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=n.credentials||this.credentials||"same-origin",!n.headers&&this.headers||(this.headers=new p(n.headers)),this.method=(r=(s=n.method||this.method||"GET").toUpperCase(),v.indexOf(r)>-1?r:s),this.mode=n.mode||this.mode||null,this.signal=n.signal||this.signal||function(){if("AbortController"in t)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==n.cache&&"no-cache"!==n.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function _(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),s=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(s),decodeURIComponent(r))}})),t}function w(e,t){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},m.call(b.prototype),m.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var L=[301,302,303,307,308];w.redirect=function(e,t){if(-1===L.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})};var E=t.DOMException;try{new E}catch(e){(E=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),E.prototype.constructor=E}function S(e,n){return new Promise((function(s,i){var a=new b(e,n);if(a.signal&&a.signal.aborted)return i(new E("Aborted","AbortError"));var l=new XMLHttpRequest;function d(){l.abort()}if(l.onload=function(){var e,t,n={statusText:l.statusText,headers:(e=l.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),s=n.shift().trim();if(s){var r=n.join(":").trim();try{t.append(s,r)}catch(e){console.warn("Response "+e.message)}}})),t)};0===a.url.indexOf("file://")&&(l.status<200||l.status>599)?n.status=200:n.status=l.status,n.url="responseURL"in l?l.responseURL:n.headers.get("X-Request-URL");var r="response"in l?l.response:l.responseText;setTimeout((function(){s(new w(r,n))}),0)},l.onerror=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},l.ontimeout=function(){setTimeout((function(){i(new TypeError("Network request timed out"))}),0)},l.onabort=function(){setTimeout((function(){i(new E("Aborted","AbortError"))}),0)},l.open(a.method,function(e){try{return""===e&&t.location.href?t.location.href:e}catch(t){return e}}(a.url),!0),"include"===a.credentials?l.withCredentials=!0:"omit"===a.credentials&&(l.withCredentials=!1),"responseType"in l&&(r?l.responseType="blob":o&&(l.responseType="arraybuffer")),n&&"object"==typeof n.headers&&!(n.headers instanceof p||t.Headers&&n.headers instanceof t.Headers)){var u=[];Object.getOwnPropertyNames(n.headers).forEach((function(e){u.push(h(e)),l.setRequestHeader(e,c(n.headers[e]))})),a.headers.forEach((function(e,t){-1===u.indexOf(t)&&l.setRequestHeader(t,e)}))}else a.headers.forEach((function(e,t){l.setRequestHeader(t,e)}));a.signal&&(a.signal.addEventListener("abort",d),l.onreadystatechange=function(){4===l.readyState&&a.signal.removeEventListener("abort",d)}),l.send(void 0===a._bodyInit?null:a._bodyInit)}))}S.polyfill=!0,t.fetch||(t.fetch=S,t.Headers=p,t.Request=b,t.Response=w)})(),(()=>{e.d(t,{default:()=>S});const n=Origo;var s=e.n(n);const r=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}};function i(){}function o(e){for(const t in e)delete e[t]}const a=class{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}},l=class extends r{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const n=this.listeners_||(this.listeners_={}),s=n[e]||(n[e]=[]);s.includes(t)||s.push(t)}dispatchEvent(e){const t="string"==typeof e,n=t?e:e.type,s=this.listeners_&&this.listeners_[n];if(!s)return;const r=t?new a(e):e;r.target||(r.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});let h;n in o||(o[n]=0,l[n]=0),++o[n];for(let e=0,t=s.length;e<t;++e)if(h="handleEvent"in s[e]?s[e].handleEvent(r):s[e].call(this,r),!1===h||r.propagationStopped){h=!1;break}if(0===--o[n]){let e=l[n];for(delete l[n];e--;)this.removeEventListener(n,i);delete o[n]}return h}disposeInternal(){this.listeners_&&o(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(e,t){if(!this.listeners_)return;const n=this.listeners_[e];if(!n)return;const s=n.indexOf(t);-1!==s&&(this.pendingRemovals_&&e in this.pendingRemovals_?(n[s]=i,++this.pendingRemovals_[e]):(n.splice(s,1),0===n.length&&delete this.listeners_[e]))}};function h(e,t,n,s,r){if(r){const r=n;n=function(i){return e.removeEventListener(t,n),r.call(s??this,i)}}else s&&s!==e&&(n=n.bind(s));const i={target:e,type:t,listener:n};return e.addEventListener(t,n),i}function c(e,t,n,s){return h(e,t,n,s,!0)}function d(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),o(e))}class p extends l{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent("change")}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const n=e.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=h(this,e[r],t);return s}return h(this,e,t)}onceInternal(e,t){let n;if(Array.isArray(e)){const s=e.length;n=new Array(s);for(let r=0;r<s;++r)n[r]=c(this,e[r],t)}else n=c(this,e,t);return t.ol_key=n,n}unInternal(e,t){const n=t.ol_key;if(n)!function(e){if(Array.isArray(e))for(let t=0,n=e.length;t<n;++t)d(e[t]);else d(e)}(n);else if(Array.isArray(e))for(let n=0,s=e.length;n<s;++n)this.removeEventListener(e[n],t);else this.removeEventListener(e,t)}}p.prototype.on,p.prototype.once,p.prototype.un;const u=p;let f=0;class g extends a{constructor(e,t,n){super(e),this.key=t,this.oldValue=n}}const y=class extends u{constructor(e){super(),this.on,this.once,this.un,this.ol_uid||(this.ol_uid=String(++f)),this.values_=null,void 0!==e&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let n;n=`change:${e}`,this.hasListener(n)&&this.dispatchEvent(new g(n,e,t)),n="propertychange",this.hasListener(n)&&this.dispatchEvent(new g(n,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,n){const s=this.values_||(this.values_={});if(n)s[e]=t;else{const n=s[e];s[e]=t,n!==t&&this.notify(e,n)}}setProperties(e,t){for(const n in e)this.set(n,e[n],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const n=this.values_[e];delete this.values_[e],function(e){let t;for(t in e)return!1;return!t}(this.values_)&&(this.values_=null),t||this.notify(e,n)}}},m=class extends y{constructor(e){super();const t=e.element;!t||e.target||t.style.pointerEvents||(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&this.element?.remove();for(let e=0,t=this.listenerKeys.length;e<t;++e)d(this.listenerKeys[e]);if(this.listenerKeys.length=0,this.map_=e,e){const t=this.target_??e.getOverlayContainerStopEvent();this.element&&t.appendChild(this.element),this.render!==i&&this.listenerKeys.push(h(e,"postrender",this.render,this)),e.render()}}render(e){}setTarget(e){this.target_="string"==typeof e?document.getElementById(e):e}},v=class extends m{constructor(e){e=e||{};var t=document.createElement("div");super({element:t}),t.className=(e.className||"ol-swipe")+" ol-unselectable ol-control";var n=document.createElement("button");t.appendChild(n),t.addEventListener("mousedown",this.move.bind(this)),t.addEventListener("touchstart",this.move.bind(this)),this.precomposeRight_=this.precomposeRight.bind(this),this.precomposeLeft_=this.precomposeLeft.bind(this),this.postcompose_=this.postcompose.bind(this),this.layers=[],e.layers&&this.addLayer(e.layers,!1),e.rightLayers&&this.addLayer(e.rightLayers,!0),this.on("propertychange",function(e){if(this.getMap())try{this.getMap().renderSync()}catch(e){}"horizontal"===this.get("orientation")?(this.element.style.top=100*this.get("position")+"%",this.element.style.left=""):("vertical"!==this.get("orientation")&&this.set("orientation","vertical"),this.element.style.left=100*this.get("position")+"%",this.element.style.top=""),"orientation"===e.key&&(this.element.classList.remove("horizontal","vertical"),this.element.classList.add(this.get("orientation"))),this.isMoving||this.layers.forEach((function(e){e.layer.getImageRatio&&e.layer.changed()}))}.bind(this)),this.set("position",e.position||.5),this.set("orientation",e.orientation||"vertical")}setMap(e){var t,n;if(this.getMap()){for(t=0;t<this.layers.length;t++)(n=this.layers[t]).right?n.layer.un(["precompose","prerender"],this.precomposeRight_):n.layer.un(["precompose","prerender"],this.precomposeLeft_),n.layer.un(["postcompose","postrender"],this.postcompose_);try{this.getMap().renderSync()}catch(e){}}if(super.setMap(e),e){for(this._listener=[],t=0;t<this.layers.length;t++)(n=this.layers[t]).right?n.layer.on(["precompose","prerender"],this.precomposeRight_):n.layer.on(["precompose","prerender"],this.precomposeLeft_),n.layer.on(["postcompose","postrender"],this.postcompose_);try{e.renderSync()}catch(e){}}}isLayer_(e){for(var t=0;t<this.layers.length;t++)if(this.layers[t].layer===e)return t;return-1}addLayer(e,t){e instanceof Array||(e=[e]);for(var n=0;n<e.length;n++){var s=e[n];if(this.isLayer_(s)<0&&(this.layers.push({layer:s,right:t}),this.getMap())){t?s.on(["precompose","prerender"],this.precomposeRight_):s.on(["precompose","prerender"],this.precomposeLeft_),s.on(["postcompose","postrender"],this.postcompose_);try{this.getMap().renderSync()}catch(e){}}}}removeLayers(){var e=[];this.layers.forEach((function(t){e.push(t.layer)})),this.removeLayer(e)}removeLayer(e){e instanceof Array||(e=[e]);for(var t=0;t<e.length;t++){var n=this.isLayer_(e[t]);n>=0&&this.getMap()&&(this.layers[n].right?e[t].un(["precompose","prerender"],this.precomposeRight_):e[t].un(["precompose","prerender"],this.precomposeLeft_),e[t].un(["postcompose","postrender"],this.postcompose_),this.layers.splice(n,1))}if(this.getMap())try{this.getMap().renderSync()}catch(e){}}getRectangle(){var e;return"vertical"===this.get("orientation")?[0,0,(e=this.getMap().getSize())[0]*this.get("position"),e[1]]:[0,0,(e=this.getMap().getSize())[0],e[1]*this.get("position")]}move(e){var t,n=this;switch(this._movefn||(this._movefn=this.move.bind(this)),e.type){case"touchcancel":case"touchend":case"mouseup":n.isMoving=!1,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach((function(e){document.removeEventListener(e,n._movefn)})),this.layers.forEach((function(e){e.layer.getImageRatio&&e.layer.changed()}));break;case"mousedown":case"touchstart":n.isMoving=!0,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach((function(e){document.addEventListener(e,n._movefn)}));case"mousemove":case"touchmove":if(n.isMoving)if("vertical"===n.get("orientation")){var s=e.pageX||e.touches&&e.touches.length&&e.touches[0].pageX||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageX;if(!s)break;s-=n.getMap().getTargetElement().getBoundingClientRect().left+window.pageXOffset-document.documentElement.clientLeft;var r=(t=n.getMap().getSize()[0])-Math.min(Math.max(0,t-s),t);t=r/t,n.set("position",t),n.dispatchEvent({type:"moving",size:[r,n.getMap().getSize()[1]],position:[t,0]})}else{var i=e.pageY||e.touches&&e.touches.length&&e.touches[0].pageY||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageY;if(!i)break;i-=n.getMap().getTargetElement().getBoundingClientRect().top+window.pageYOffset-document.documentElement.clientTop;var o=(t=n.getMap().getSize()[1])-Math.min(Math.max(0,t-i),t);t=o/t,n.set("position",t),n.dispatchEvent({type:"moving",size:[n.getMap().getSize()[0],o],position:[0,t]})}}}_transformPt(e,t){var n=e.inversePixelTransform,s=t[0],r=t[1];return t[0]=n[0]*s+n[2]*r+n[4],t[1]=n[1]*s+n[3]*r+n[5],t}_drawRect(e,t){var n=e.inversePixelTransform;if(n){var s=[[t[0][0],t[0][1]],[t[0][0],t[1][1]],[t[1][0],t[1][1]],[t[1][0],t[0][1]],[t[0][0],t[0][1]]];if(e.context.save(),e.target.getImageRatio){var r=-Math.atan2(e.frameState.pixelToCoordinateTransform[1],e.frameState.pixelToCoordinateTransform[0]);e.context.translate(e.frameState.size[0]/2,e.frameState.size[1]/2),e.context.rotate(r),e.context.translate(-e.frameState.size[0]/2,-e.frameState.size[1]/2)}s.forEach((function(t,s){t=[t[0]*n[0]-t[1]*n[1]+n[4],-t[0]*n[2]+t[1]*n[3]+n[5]],s?e.context.lineTo(t[0],t[1]):e.context.moveTo(t[0],t[1])})),e.context.restore()}else{var i=e.frameState.pixelRatio;e.context.rect(t[0][0]*i,t[0][1]*i,t[1][0]*i,t[1][1]*i)}}precomposeLeft(e){var t=e.context;if(t instanceof WebGLRenderingContext){if("prerender"===e.type){this._lefttime!=e.frameState.time&&(t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),this._lefttime=e.frameState.time),t.enable(t.SCISSOR_TEST);var n,s,r=this.getMap().getSize(),i=this._transformPt(e,[0,r[1]]),o=this._transformPt(e,[r[0],0]),a=o[0]-i[0],l=o[1]-i[1];"vertical"===this.get("orientation")?(n=Math.round(a*this.get("position")),s=l):(n=a,s=Math.round(l*this.get("position")),i[1]+=l-s),t.scissor(i[0],i[1],n,s),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)}}else{var h=e.frameState.size;t.save(),t.beginPath();var c=[[0,0],[h[0],h[1]]];"vertical"===this.get("orientation")?c[1]=[.5*h[0]+this.getMap().getSize()[0]*(this.get("position")-.5),h[1]]:c[1]=[h[0],.5*h[1]+this.getMap().getSize()[1]*(this.get("position")-.5)],this._drawRect(e,c),t.clip()}}precomposeRight(e){var t=e.context;if(t instanceof WebGLRenderingContext){if("prerender"===e.type){this._righttime!=e.frameState.time&&(t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),this._righttime=e.frameState.time),t.enable(t.SCISSOR_TEST);var n,s,r=this.getMap().getSize(),i=this._transformPt(e,[0,r[1]]),o=this._transformPt(e,[r[0],0]),a=o[0]-i[0],l=o[1]-i[1];"vertical"===this.get("orientation")?(s=l,n=Math.round(a*(1-this.get("position"))),i[0]+=a-n):(n=a,s=Math.round(l*(1-this.get("position")))),t.scissor(i[0],i[1],n,s),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)}}else{var h=e.frameState.size;t.save(),t.beginPath();var c=[[0,0],[h[0],h[1]]];"vertical"===this.get("orientation")?c[0]=[.5*h[0]+this.getMap().getSize()[0]*(this.get("position")-.5),0]:c[0]=[0,.5*h[1]+this.getMap().getSize()[1]*(this.get("position")-.5)],this._drawRect(e,c),t.clip()}}postcompose(e){if(e.context instanceof WebGLRenderingContext){if("postrender"===e.type){var t=e.context;t.disable(t.SCISSOR_TEST)}}else e.target.getClassName&&"ol-layer"!==e.target.getClassName()&&e.target.get("declutter")?setTimeout((function(){e.context.restore()}),0):e.context.restore()}},b="active",_=class extends y{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(b)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(b,e)}setMap(e){this.map_=e}},w=class extends _{constructor(e){super(e=e||{}),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if("pointerdrag"==e.type)this.handleDragEvent(e),e.originalEvent.preventDefault();else if("pointerup"==e.type){const t=this.handleUpEvent(e);this.handlingDownUpSequence=t&&this.targetPointers.length>0}}else if("pointerdown"==e.type){const n=this.handleDownEvent(e);this.handlingDownUpSequence=n,t=this.stopDown(n)}else"pointermove"==e.type&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}},L=class extends w{constructor(e){super({handleDownEvent:function(e){return this._setPosition(e)},handleMoveEvent:function(e){return this._setPosition(e)}}),this.layers_=[],this.precomposeBind_=this.precompose_.bind(this),this.postcomposeBind_=this.postcompose_.bind(this),e=e||{},this.pos=!1,this.radius=e.radius||100,e.layers&&this.addLayer(e.layers),this.setActive(!0)}setMap(e){var t;if(this.getMap()){for(t=0;t<this.layers_.length;t++)this.layers_[t].un(["precompose","prerender"],this.precomposeBind_),this.layers_[t].un(["postcompose","postrender"],this.postcomposeBind_);try{this.getMap().renderSync()}catch(e){}}if(super.setMap(e),e){for(t=0;t<this.layers_.length;t++)this.layers_[t].on(["precompose","prerender"],this.precomposeBind_),this.layers_[t].on(["postcompose","postrender"],this.postcomposeBind_);try{e.renderSync()}catch(e){}}}setRadius(e){if(this.radius=e,this.getMap())try{this.getMap().renderSync()}catch(e){}}getRadius(){return this.radius}addLayer(e){e instanceof Array||(e=[e]);for(var t=0;t<e.length;t++){if(this.getMap()){e[t].on(["precompose","prerender"],this.precomposeBind_),e[t].on(["postcompose","postrender"],this.postcomposeBind_);try{this.getMap().renderSync()}catch(e){}}this.layers_.push(e[t])}}removeLayers(){this.removeLayer(this.layers_)}removeLayer(e){e instanceof Array||(e=[e]);for(var t=0;t<e.length;t++){var n;for(n=0;n<this.layers_.length&&this.layers_[n]!==e[t];n++);n!=this.layers_.length&&this.getMap()&&(this.layers_[n].un(["precompose","prerender"],this.precomposeBind_),this.layers_[n].un(["postcompose","postrender"],this.postcomposeBind_),this.layers_.splice(n,1))}if(this.getMap())try{this.getMap().renderSync()}catch(e){}}setPosition(e){if(this.getMap()){this.pos=this.getMap().getPixelFromCoordinate(e);try{this.getMap().renderSync()}catch(e){}}}getPosition(){return this.pos?this.getMap().getCoordinateFromPixel(this.pos):null}setPixelPosition(e){if(this.pos=e,this.getMap())try{this.getMap().renderSync()}catch(e){}}getPixelPosition(){return this.pos}_setPosition(e){if(("pointermove"!==e.type||"onclick"!==this.get("action"))&&(e.pixel&&(this.pos=e.pixel),this.getMap()))try{this.getMap().renderSync()}catch(e){}}precompose_(e){if(this.getActive()){var t=e.context,n=e.frameState.pixelRatio;t.save(),t.beginPath();var s=[this.pos[0],this.pos[1]],r=this.radius,i=e.inversePixelTransform;i?r=(s=[s[0]*i[0]-s[1]*i[1]+i[4],-s[0]*i[2]+s[1]*i[3]+i[5]])[0]-((this.pos[0]-r)*i[0]-this.pos[1]*i[1]+i[4]):(s[0]*=n,s[1]*=n,r*=n),t.arc(s[0],s[1],r,0,2*Math.PI),t.clip()}}postcompose_(e){this.getActive()&&e.context.restore()}setActive(e){if(e!==this.getActive()&&(super.setActive(e),this.layers_)){var t;if(e)for(t=0;t<this.layers_.length;t++)this.layers_[t].on(["precompose","prerender"],this.precomposeBind_),this.layers_[t].on(["postcompose","postrender"],this.postcomposeBind_);else for(t=0;t<this.layers_.length;t++)this.layers_[t].un(["precompose","prerender"],this.precomposeBind_),this.layers_[t].un(["postcompose","postrender"],this.postcomposeBind_);if(this.getMap())try{this.getMap().renderSync()}catch(e){}}}};class E{constructor(e,t,n){this.layer=e,this.layerName=e.get("name"),this.right=t,this.left=n}getLayer(){return this.layer}getName(){return this.layerName}inUse(){return this.right||this.left}inSwiperUse(){return this.left}inRightSideUse(){return this.right}setAsShown(e=!0){this.left=e,this.right=!1}setAsShownOnRight(e=!0){this.right=e,this.left=!1}}const S=function({circleRadius:e=50,initialLayer:t=null,alwaysOnTop:n=!1,initialControl:r=null,backgroundGroup:i="background",showLayerListOnStart:o=!1,origoConfig:a=null,tooltips:l={swiper:"Swiper",swipeBetweenLayers:"Split view",circleSwipe:"Circle layer overlay",layerList:"Layer list"}}={}){let h,c,d,p,u,f,g,y,m,b,_,w,S={},T=!1,x=!1,M=!1,A=!1;const B=e,P=t||"",R=r,O=i,I=o,C=l.swiper,U=l.swipeBetweenLayers,D=l.circleSwipe,k=l.layerList,j=a;let z,V,F,H,N,$,q,G,X,Y;function K(){const e=Object.keys(S);let t=e.filter((e=>S[e].getLayer().get("visible")));if(t.length>0&&t.forEach((e=>{g=S[e].getLayer(),S[e].setAsShownOnRight(),console.log("right layer",g.get("name"))})),!f||S[f.get("name")].inUse()){let t=e.find((e=>!S[e].getLayer().get("visible")));f=S[t].getLayer(),S[t].setAsShown(),console.log("left layer",f.get("name"))}}function W(e){n||h.getLayers().filter((e=>!e.get("isSwiperLayer")&&!e.get("isUnderSwiper"))).forEach((t=>{t.setZIndex(e)}))}function J(){if(!m)return;const e="swiperLabel",t=function(){let e=h.getLayers().filter((e=>e.get("visible")&&(e.get("isUnderSwiper")||e.get("isSwiperLayer")&&!e.get("name").endsWith("__swiper"))));return e[e.length-1]}();let n=document.getElementById(e);n||(n=document.createElement("span"));const s=f?f.get("title"):"",r=t?t.get("title"):"",i=f?f.get("name").split("__")[0]:"",o=t?t.get("name").split("__")[0]:"";n.setAttribute("id",e),n.setAttribute("label-left",s),n.setAttribute("label-right",r),u&&n.classList.add("mobile"),n.classList.add("label"),n.classList.remove("warn"),i===o&&n.classList.add("warn"),m.element.appendChild(n)}function Z(){let e=!0;m?e=!1:m=new v({orientation:u?"horizontal":"vertical"}),c.addControl(m),e&&(K(),g&&m.addLayer(g,!0),ee(m,f)),J(),ie(!0),N.resetLayerList(S)}function Q(){K(),console.log("cirle - layer",f.get("name")),b=new L({radius:B||100}),ee(b,f),c.addInteraction(b),oe(!0),N.resetLayerList(S)}function ee(e,t,n=!0){if(!e)return;se(),"GROUP"==t.get("type")&&t.get("layers").forEach((t=>{n?(e.removeLayer(t),e.addLayer(t)):e.removeLayer(t),t.setVisible(n)}));const s=t.get("name");n?(e.removeLayer(t),e.addLayer(t)):e.removeLayer(t),t.setVisible(n),S[s].setAsShown(n),re(),console.log(s,"visibility",n)}function te(){m&&(c.removeControl(m),ie(!1),ee(m,f,!1),m=null,console.info("disabling swiper"))}function ne(){b&&(c.removeInteraction(b),oe(!1),ee(b,f,!1),b=null,console.info("disabling circle"))}function se(){T=!0}function re(){T=!1}function ie(e){e?G.classList.add("active"):G.classList.remove("active"),M=e}function oe(e){e?X.classList.add("active"):X.classList.remove("active"),A=e}function ae(e){let t=f;if(S[e].inUse())return console.log("the layer ",e,"is in use"),!1;const n=S[e].getLayer();f=n,console.log("new left side - layer:",S[e].getName());const s=m||b;return ee(s,f),t&&(console.log("removing left side - layer",t.get("name")),ee(s,t,!1)),console.log("resetSwiperLayer - end"),!0}function le(e,t){const n=S[e];if(n&&!t){if(n.setAsShown(!1),null!=Object.keys(S).find((e=>S[e].inRightSideUse())))return}else if(console.log("layer triggered but in a SwiperLayer",e,t),!function(e,t){if(t)return!1;const n=h.getLayersByProperty("id",e);if(!n.length)return!1;const s=O;return n[0].get("group")!=s?(console.log("not background group"),!1):2!=Object.keys(S).filter((e=>S[e].inUse())).length&&2!=h.getLayersByProperty("group",s).length}(e,t))return console.log("it does not compromise the existing swiper layers"),void(n&&(t?(n.setAsShownOnRight(!0),m.addLayer(n.getLayer(),!0)):(n.setAsShownOnRight(!1),m.removeLayer(n.getLayer()))));const s=Object.keys(S).find((t=>t!=e&&S[t].inUse()));console.log("layer in use:",s);const r=S[s].getLayer();ne(),te(),se(),r.setVisible(!1),r.setVisible(!0),re(),pe()}let he=null,ce=[];function de(e){if(J(),T)return;const t=e.target.get("name"),n=!e.oldValue;console.log(t,"visibility:",n,new Date),ce.push({layerId:t,currentVisibility:n}),he&&clearTimeout(he),he=setTimeout((()=>{console.log("got all",ce.length,"changes"),function(e){if(!e||!e.length)return void log.console("why is the affectedVisibleLayers array empty?");if(1==e.length){const t=e.pop();return void le(t.layerId,t.currentVisibility)}const t=e[0].currentVisibility,n=e.reduce(((e,n)=>t?e&&n:e||n),t);if(t==n&&e.forEach((e=>{le(e.layerId,e.currentVisibility)})),2==e.length){var s=e.pop(),r=e.pop();i=s.layerId,o=s.currentVisibility,a=r.layerId,l=r.currentVisibility,S[i]&&(S[i].setAsShownOnRight(o),m&&(o?m.addLayer(S[i].getLayer(),!0):m.removeLayer(S[i].getLayer()))),S[a]&&(S[a].setAsShownOnRight(l),m&&(l?m.addLayer(S[a].getLayer(),!0):m.removeLayer(S[a].getLayer()))),N.resetLayerList(S)}var i,o,a,l;e.forEach((e=>{le(e.layerId,e.currentVisibility)}))}(ce),ce=[],he=null}),100)}function pe(){W(0),ne(),te(),q.classList.remove("active"),G.classList.add("hidden"),u||X.classList.add("hidden"),Y.classList.add("hidden"),N.setSwiperLegendVisible(!1),Object.keys(S).forEach((e=>{S[e].getLayer().un("change:visible",de)})),w.forEach((e=>{e.un("change:visible",de)})),x=!1}return s().ui.Component({name:"swiper",onInit(){u=function(){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))return!0}(),function(){const e=document.createElement("div");e.innerHTML='\n    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">\n      <symbol id="mui-compare" viewBox="0 0 24 24">\n        <path d="M0 0h24v24H0z" fill="none"/>\n        <path d="M10 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h5v2h2V1h-2v2zm0 15H5l5-6v6zm9-15h-5v2h5v13l-5-6v9h5c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>\n      </symbol>\n      \n      <symbol id="mui-circle" viewBox="0 0 24 24">\n        <path d="M0 0h24v24H0z" fill="none"/>\n        <path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z"/>\n      </symbol>\n      \n      <symbol id="mui-swap-vertical" viewBox="0 0 24 24">\n        <path d="M0 0h24v24H0z" fill="none"/>\n        <path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z"/>\n      </symbol>\n      \n      <symbol id="mui-swap-horizontal" viewBox="0 0 24 24">\n        <path d="M0 0h24v24H0z" fill="none"/>\n        <path d="M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"/>\n      </symbol>\n    </svg>\n    ',document.body.insertBefore(e,document.body.childNodes[0])}(),z=s().ui.Button({cls:"o-measure padding-small margin-bottom-smaller icon-smaller round light box-shadow no-round-icon swiper-tool-button",click(){if(x)pe();else{if(Object.keys(S).forEach((e=>{S[e].getLayer().on("change:visible",de)})),w||(w=function(e){return _=e.getLayers().filter((e=>!e.get("name").endsWith("__swiper"))),_}(h)),w.forEach((e=>{e.on("change:visible",de)})),q.classList.add("active"),G.classList.remove("hidden"),u||X.classList.remove("hidden"),Y.classList.remove("hidden"),R){const e=R.toLowerCase();"swipe"===e&&Z(),"clip"===e&&Q()}x=!0,W(10),N.setSwiperLegendVisible(I)}},icon:"#mui-compare",tooltipText:C,tooltipPlacement:"east"}),V=s().ui.Button({cls:"o-measure padding-small margin-bottom-smaller icon-smaller round light box-shadow hidden swiper-button",click(){ne(),M||Z()},icon:u?"#mui-swap-vertical":"#mui-swap-horizontal",tooltipText:U,tooltipPlacement:"east"}),u||(F=s().ui.Button({cls:"o-measure padding-small margin-bottom-smaller icon-smaller round light box-shadow hidden",click(){te(),A||Q()},icon:"#mui-circle",tooltipText:D,tooltipPlacement:"east"})),N=function(e={showLayer:()=>{console.log("showLayer not defined")}}){let t,n,r,i,o,a=!1;function l(e){a=e,a?r.classList.remove("hidden"):r.classList.add("hidden")}function h(e){c(e)}function c(t){o.textContent="",Object.keys(t).forEach((n=>{const r=t[n],i=document.createElement("li");i.id=n,i.className="legend-list-item "+(r.inUse()?"disabled":"");const a=r.inSwiperUse(),l=s().ui.Icon({icon:(c=a,c?"#ic_check_circle_24px":"#ic_radio_button_unchecked_24px"),cls:"round small icon-smaller no-shrink checked-icon",style:"",title:""});var c;const d=s().ui.Element({cls:"text-smaller padding-x-small grow pointer no-select overflow-hidden",innerHTML:r.getLayer().get("title")});i.innerHTML=`${d.render()} ${l.render()}`,o.appendChild(i),i.addEventListener("click",(()=>{e.showLayer(n)&&h(t)}))}))}return s().ui.Component({name:"swiperLegend",onInit(){},onAdd(e){let s=e.target;n="ontouchstart"in document.documentElement,t=`${s.getMain().getId()}`},render(e){r=document.createElement("div"),r.className="legend-layer-container",r.classList.add("legend-layer-container","hidden"),r.id="legendLayerContainer",document.getElementById(t).appendChild(r),o=document.createElement("ul"),o.className="legend-list",i=document.createElement("div"),i.className="legend-layer-header",i.innerHTML="Lager",i.id=`${r.id}-draggable`;const n=document.createElement("div");n.className="legend-close-button",n.addEventListener("click",(()=>{l(!1)})),i.appendChild(n),r.appendChild(i),r.appendChild(o),function(e){const t=e;let n=0,s=0,r=0,i=0;function o(e){e.preventDefault(),n=r-e.clientX,s=i-e.clientY,r=e.clientX,i=e.clientY,t.style.top=t.offsetTop-s+"px",t.style.left=t.offsetLeft-n+"px"}function a(){document.onmouseup=null,document.onmousemove=null,document.ontouchend=null}function l(e){e.preventDefault(),r=e.clientX,i=e.clientY,document.onmouseup=a,document.onmousemove=o,document.ontouchstart=a,document.ontouchmove=o}document.getElementById(`${t.id}-draggable`)?document.getElementById(`${t.id}-draggable`).onmousedown=l:t.onmousedown=l}(r),c(e),this.dispatch("render")},setSwiperLegendVisible:l,resetLayerList:h,isVisible:function(){return a}})}({showLayer:ae}),H=s().ui.Button({cls:"o-measure padding-small margin-bottom-smaller icon-smaller round light box-shadow hidden",click(){N.setSwiperLegendVisible(!N.isVisible())},icon:"#ic_layers_24px",tooltipText:k,tooltipPlacement:"east"}),y=s().ui.Element({tagName:"div",cls:"flex column"})},onAdd(e){h=e.target,c=h.getMap();let t=Promise.resolve();j&&(t=function(e,t){const n=e,s=t;return function(){let t=s;if(window.location.hash){const n=e.permalink.parsePermalink(window.location.href);n.map&&(t=`${n.map}.json`)}return new URLSearchParams(window.location.search).has("mapStateId")&&(t=location.origin.concat(location.pathname).concat(s)),fetch(t,{dataType:"json"}).then((e=>e.text())).then((e=>{const t=function(e){const t=e.split("");let n=0;const s=t.length-1;for(;n<s;){if('"'===t[n])for(n+=1;'"'!==t[n]&&n<s;)"\\"===t[n]&&(n+=1),n+=1;else if("/"===t[n]&&"/"===t[n+1])for(t[n]=" ",t[n+1]=" ",n+=2;"\n"!==t[n]&&"\r"!==t[n]&&n<=s;)t[n]=" ",n+=1;else if("/"===t[n]&&"*"===t[n+1]){for(t[n]=" ",t[n+1]=" ",n+=2;("*"!==t[n]||"/"!==t[n+1])&&n<=s;)"\n"!==t[n]&&"\r"!==t[n]&&(t[n]=" "),n+=1;t[n]=" ",t[n+1]=" ",n+=1}n+=1}return t.join("")}(e);let s;try{s=JSON.parse(t)}catch(n){const s=parseInt(n.message.split(" ").pop(),10);if(s){const r=t.substring(0,s).match(/^/gm).length;throw Error(`${n.message}\non row : ${r}\nSomewhere around:\n${e.substring(s-100,s+100)}`)}throw n}const r=s.layers.filter((e=>e.isSwiperLayer));return r.forEach((e=>{e.name+="__swiper",e.visible=!1,e.group="none","GROUP"===e.type&&e.layers.forEach((e=>{e.name+="__swiper",e.visible=!1}))})),n.addLayers(r),r}))}()}(h,j)),t.then((e=>{if(!function(e){const t=function(e){return _=e.getLayers().filter((e=>e.get("isSwiperLayer")&&e.get("name").endsWith("__swiper"))),_}(e);return!(t.length<=0||(console.log("Swiper defined layers",t.length,t.map((e=>e.get("name")))),function(e){e.forEach((e=>{const t=e.get("name");S[t]=new E(e,!1,!1),t.replace("__swiper","").toLowerCase()===P.toLowerCase()&&(console.log("default layer set:",P),f=e)}))}(t),0))}(h))return void console.log("No swiper layers defined. Tool will not be added to the map.");p="ontouchstart"in document.documentElement,d=`${h.getMain().getMapTools().getId()}`;let t=[z,V];u||t.push(F),t.push(H),this.addComponents(t),h.addComponent(N),this.render()}))},render(){const e=s().ui.dom.html(y.render());document.getElementById(d).appendChild(e),$=document.getElementById(y.getId());const t=s().ui.dom.html(z.render());$.appendChild(t),q=document.getElementById(z.getId());const n=s().ui.dom.html(V.render());if($.appendChild(n),G=document.getElementById(V.getId()),!u){const e=s().ui.dom.html(F.render());$.appendChild(e),X=document.getElementById(F.getId())}const r=s().ui.dom.html(H.render());$.appendChild(r),Y=document.getElementById(H.getId()),H.dispatch("render"),N.render(S),this.dispatch("render")}})}})(),Swiper=t.default})();